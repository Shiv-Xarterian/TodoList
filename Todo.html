<!DOCTYPE html>
<html>
  <head>
    <title>File Upload</title>
  </head>
  <body>
    <form id="uploadForm">
      <div>
        <label for="file">Choose a file:</label>
        <input type="file" id="file" name="file" />
      </div>
      <div>
        <button type="submit">Upload</button>
      </div>
    </form>

    <script>
      document
        .getElementById("uploadForm")
        .addEventListener("submit", function (event) {
          event.preventDefault(); // Prevent the default form submission

          const fileInput = document.getElementById("file");
          const file = fileInput.files[0];

          if (file) {
            const formData = new FormData();
            formData.append("file", file);

            fetch("http://localhost:4000/api/v1/updateAvatar", {
              method: "PUT",
              body: formData,
            })
              .then((response) => {
                if (!response.ok) {
                  throw new Error("Network response was not ok");
                }
                return response.json();
              })
              .then((data) => {
                console.log("Success:", data);
              })
              .catch((error) => {
                console.error("Error:", error);
              });
          } else {
            console.log("Please select a file to upload.");
          }
        });
    </script>
  </body>
</html>
